// @generated by Cursor AI (Claude) — verified by Kevin

import { useTranslation } from 'react-i18next';
import { FileText, Clock, CheckCircle, XCircle, AlertCircle } from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

/**
 * Composant CitizenStats - Affiche les statistiques des signalements d'un citoyen
 * 
 * @param {Object} props
 * @param {Object} props.stats - Statistiques du citoyen
 * @param {number} props.stats.total - Nombre total de signalements
 * @param {number} props.stats.pending - Nombre de signalements en attente
 * @param {number} props.stats.in_progress - Nombre de signalements en cours
 * @param {number} props.stats.resolved - Nombre de signalements résolus
 * @param {number} props.stats.rejected - Nombre de signalements rejetés
 * @param {boolean} props.loading - Si les stats sont en cours de chargement
 * 
 * @example
 * <CitizenStats stats={stats} loading={false} />
 */
function CitizenStats({ stats, loading = false }) {
  const { t } = useTranslation('common');

  if (loading) {
    return (
      <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
        {[1, 2, 3, 4, 5].map((i) => (
          <Card key={i} className="animate-pulse">
            <CardContent className="p-4">
              <div className="h-4 bg-neutral-200 rounded w-3/4 mb-2" />
              <div className="h-8 bg-neutral-200 rounded w-1/2" />
            </CardContent>
          </Card>
        ))}
      </div>
    );
  }

  if (!stats) {
    return null;
  }

  const statCards = [
    {
      label: t('citizen.stats.total', { defaultValue: 'Total' }),
      value: stats.total || 0,
      icon: FileText,
      color: 'text-neutral-600',
      bgColor: 'bg-neutral-50',
    },
    {
      label: t('citizen.stats.pending', { defaultValue: 'En attente' }),
      value: stats.pending || 0,
      icon: Clock,
      color: 'text-yellow-600',
      bgColor: 'bg-yellow-50',
    },
    {
      label: t('citizen.stats.in_progress', { defaultValue: 'En cours' }),
      value: stats.in_progress || 0,
      icon: AlertCircle,
      color: 'text-blue-600',
      bgColor: 'bg-blue-50',
    },
    {
      label: t('citizen.stats.resolved', { defaultValue: 'Résolus' }),
      value: stats.resolved || 0,
      icon: CheckCircle,
      color: 'text-green-600',
      bgColor: 'bg-green-50',
    },
    {
      label: t('citizen.stats.rejected', { defaultValue: 'Rejetés' }),
      value: stats.rejected || 0,
      icon: XCircle,
      color: 'text-red-600',
      bgColor: 'bg-red-50',
    },
  ];

  return (
    <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
      {statCards.map((stat) => {
        const Icon = stat.icon;
        return (
          <Card key={stat.label} className="border-neutral-200">
            <CardContent className="p-4">
              <div className="flex items-center justify-between mb-2">
                <Icon className={`w-5 h-5 ${stat.color}`} />
                <span className={`text-xs font-medium px-2 py-1 rounded-full ${stat.bgColor} ${stat.color}`}>
                  {stat.label}
                </span>
              </div>
              <p className="text-2xl font-bold text-neutral-900">{stat.value}</p>
            </CardContent>
          </Card>
        );
      })}
    </div>
  );
}

export default CitizenStats;

